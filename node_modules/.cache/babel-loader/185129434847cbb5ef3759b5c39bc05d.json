{"ast":null,"code":"var _jsxFileName = \"/Users/user/sei-cranberry-gobblers/Project-3/Project-3-react-issue-client/react-issue-app/src/Login/index.js\";\nimport React, { Component } from 'react';\nimport { Form, Label, Button, Message, Grid, Header, Image, Segment, Icon, List } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      e.preventDefault();\n      this.setState({\n        [e.currentTarget.name]: e.currentTarget.value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      console.log('Email & Password:', this.state);\n      const loginUrl = \"\".concat(process.env.REACT_APP_API_URL, \"/api/v1/users/login\"); //localhost:8000/api/v1/users/login\n      // this is users.  this matches flask app.py: app.register_blueprint(user, url_prefix='/api/v1/users')\n\n      const loginResponse = await fetch(loginUrl, {\n        method: 'POST',\n        body: JSON.stringify(this.state),\n        credentials: 'include',\n        // Send a session cookie along with our request\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const parsedResponse = await loginResponse.json();\n\n      if (parsedResponse.status.code === 200) {\n        console.log('Login successful');\n        this.props.history.push('/issues'); // Change url to /issues programmatically with react-router\n      } else {\n        // Else display error message to the user\n        this.setState({\n          errorMsg: parsedResponse.status.message\n        });\n      }\n    };\n\n    this.state = {\n      email: '',\n      password: ''\n    };\n  } // Handling of form value change\n\n\n  render() {\n    return React.createElement(Grid, {\n      textAlign: \"center\",\n      style: {\n        height: '100vh'\n      },\n      verticalAlign: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      style: {\n        maxWidth: 450\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Header, {\n      as: \"h2\",\n      color: \"teal\",\n      textAlign: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"baseball ball\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), \" Log-in to your account\"), React.createElement(Form, {\n      size: \"large\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Segment, {\n      stacked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      fluid: true,\n      icon: \"user\",\n      iconPosition: \"left\",\n      placeholder: \"E-mail address\",\n      type: \"email\",\n      name: \"email\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      fluid: true,\n      icon: \"lock\",\n      iconPosition: \"left\",\n      placeholder: \"Password\",\n      type: \"password\",\n      name: \"password\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(Button, {\n      color: \"teal\",\n      fluid: true,\n      size: \"large\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Login\")), this.state.errorMsg ? React.createElement(Message, {\n      negative: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, this.state.errorMsg) : null), React.createElement(Message, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"New to us?\", React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(List.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Sign Up\"))))));\n  }\n\n}\n\nexport default Login;\n{\n  /*<Form onSubmit={this.handleSubmit}>\n  \t\t\t<h4>Sign In</h4>\n  \t\t\t<Label>Email</Label>\n  \t\t\t<Form.Input type=\"email\" name=\"email\" onChange={this.handleChange} required/>\n  \t\t\t<Label>Password</Label>\n  \t\t\t<Form.Input type=\"password\" name=\"password\" onChange={this.handleChange} required />\n  \t\t\t<Button type=\"submit\" color=\"green\" >Sign In</Button>\n  \t\t\t{ this.state.errorMsg ? <Message negative>{this.state.errorMsg}</Message> : null }\n  \t\t</Form>*/\n}","map":{"version":3,"sources":["/Users/user/sei-cranberry-gobblers/Project-3/Project-3-react-issue-client/react-issue-app/src/Login/index.js"],"names":["React","Component","Form","Label","Button","Message","Grid","Header","Image","Segment","Icon","List","Link","Login","constructor","handleChange","e","preventDefault","setState","currentTarget","name","value","handleSubmit","console","log","state","loginUrl","process","env","REACT_APP_API_URL","loginResponse","fetch","method","body","JSON","stringify","credentials","headers","parsedResponse","json","status","code","props","history","push","errorMsg","message","email","password","render","height","maxWidth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Label, Button, Message, Grid, Header, Image, Segment, Icon, List } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\n\n\nclass Login extends Component {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpassword: ''\n\t\t}\n\t}\n\n\t// Handling of form value change\n\thandleChange = (e) => {\n\t\te.preventDefault();\n\t\tthis.setState({\n\t\t\t[e.currentTarget.name]: e.currentTarget.value\n\t\t})\n\t}\n\n\t// Submission of login in form\n\thandleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\tconsole.log('Email & Password:', this.state);\n\t\tconst loginUrl = `${process.env.REACT_APP_API_URL}/api/v1/users/login`; //localhost:8000/api/v1/users/login\n\t\t// this is users.  this matches flask app.py: app.register_blueprint(user, url_prefix='/api/v1/users')\n\t\tconst loginResponse = await fetch(loginUrl, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify(this.state),\n\t\t\tcredentials: 'include', // Send a session cookie along with our request\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t});\n\n\t\tconst parsedResponse = await loginResponse.json();\n\n\t\tif (parsedResponse.status.code === 200) {\n\t\t\tconsole.log('Login successful');\n\t\t\tthis.props.history.push('/issues'); // Change url to /issues programmatically with react-router\n\t\t} else {\n\t\t\t// Else display error message to the user\n\t\t\tthis.setState({\n\t\t\t\terrorMsg: parsedResponse.status.message\n\t\t\t});\n\t\t}\n\t\t\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\n\t\t\t    <Grid.Column style={{ maxWidth: 450 }}>\n\t\t\t      <Header as='h2' color='teal' textAlign='center'>\n\t\t\t        <Icon name='baseball ball' /> Log-in to your account\n\t\t\t      </Header>\n\t\t\t      <Form size=\"large\" onSubmit={this.handleSubmit}>\n\t\t\t        <Segment stacked>\n\t\t\t          <Form.Input \n\t\t\t          \tfluid \n\t\t\t          \ticon=\"user\"\n\t\t\t          \ticonPosition=\"left\"\n\t\t\t          \tplaceholder=\"E-mail address\" \n\t\t\t          \ttype=\"email\" \n\t\t\t          \tname=\"email\" \n\t\t\t          \tonChange={this.handleChange} \n\t\t\t          \trequired \n\t\t\t          />\n\t\t\t          <Form.Input\n\t\t\t            fluid\n\t\t\t            icon=\"lock\"\n\t\t\t            iconPosition=\"left\"\n\t\t\t            placeholder=\"Password\"\n\t\t\t            type=\"password\" \n\t\t\t            name=\"password\" \n\t\t\t            onChange={this.handleChange} \n\t\t\t            required\n\t\t\t          />\n\n\t\t\t          <Button color=\"teal\" fluid size=\"large\" type=\"submit\">\n\t\t\t            Login\n\t\t\t          </Button>\n\t\t\t        </Segment>\n\t\t\t      { this.state.errorMsg ? <Message negative>{this.state.errorMsg}</Message> : null }\n\t\t\t      </Form>\n\t\t\t      <Message>\n\t\t\t        {/*New to us? <a href='#'>Sign Up</a>*/}\n\t\t\t        New to us?\n\t\t\t        <List>\n\t\t\t\t\t\t<List.Item><Link to = '/register'>Sign Up</Link></List.Item>\n\t\t\t\t\t</List>\n\t\t\t      </Message>\n\t\t\t    </Grid.Column>\n  \t\t\t</Grid>\n\t\t)\n\t}\n}\n\nexport default Login;\n\n\n\n{/*<Form onSubmit={this.handleSubmit}>\n\t\t\t\t<h4>Sign In</h4>\n\t\t\t\t<Label>Email</Label>\n\t\t\t\t<Form.Input type=\"email\" name=\"email\" onChange={this.handleChange} required/>\n\t\t\t\t<Label>Password</Label>\n\t\t\t\t<Form.Input type=\"password\" name=\"password\" onChange={this.handleChange} required />\n\t\t\t\t<Button type=\"submit\" color=\"green\" >Sign In</Button>\n\t\t\t\t{ this.state.errorMsg ? <Message negative>{this.state.errorMsg}</Message> : null }\n\t\t\t</Form>*/}\n"]},"metadata":{},"sourceType":"module"}