{"ast":null,"code":"var _jsxFileName = \"/Users/user/sei-cranberry-gobblers/Project-3/Project-3-react-issue-client/react-issue-app/src/Register/index.js\";\nimport React, { Component } from 'react';\nimport { Form, Label, Button, Message, Grid, Header, Icon, Segment } from 'semantic-ui-react';\n\nclass Register extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      this.setState({\n        [e.currentTarget.name]: e.currentTarget.value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      console.log('hello');\n      const registrationUrl = \"\".concat(process.env.REACT_APP_API_URL, \"/api/v1/users/register\"); // localhost:8000/api/v1/users/register\n      // this is users.  this matches flask app.py: app.register_blueprint(user, url_prefix='/api/v1/users')\n\n      const registerResponse = await fetch(registrationUrl, {\n        method: 'POST',\n        body: JSON.stringify(this.state),\n        credentials: 'include',\n        // this sends our session cookie with our request\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const parsedResponse = await registerResponse.json();\n\n      if (parsedResponse.status.code === 201) {\n        console.log('Sign up successful');\n        this.props.history.push('/issues'); // Change url to /issues programmatically with react-router\n      } else {\n        // Else display error message to the user\n        this.setState({\n          errorMsg: parsedResponse.status.message\n        });\n      }\n    };\n\n    this.state = {\n      name: '',\n      department: '',\n      email: '',\n      password: ''\n    };\n  } // Handling of form value change\n\n\n  render() {\n    return React.createElement(Grid, {\n      textAlign: \"center\",\n      style: {\n        height: '100vh'\n      },\n      verticalAlign: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      style: {\n        maxWidth: 450\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Header, {\n      as: \"h2\",\n      color: \"teal\",\n      textAlign: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"baseball ball\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), \" Register for Issues\"), React.createElement(Form, {\n      size: \"large\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Segment, {\n      stacked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      icon: \"signup\",\n      iconPosition: \"left\",\n      placeholder: \"First name\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      iconPosition: \"left\",\n      icon: \"users\",\n      placeholder: \"Department\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      fluid: true,\n      icon: \"user\",\n      iconPosition: \"left\",\n      placeholder: \"E-mail address\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      fluid: true,\n      icon: \"lock\",\n      iconPosition: \"left\",\n      placeholder: \"Password\",\n      type: \"password\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(Button, {\n      color: \"teal\",\n      fluid: true,\n      size: \"large\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(List.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/issues\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Register\"))))), this.state.errorMsg ? React.createElement(Message, {\n      negative: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, this.state.errorMsg) : null)));\n  }\n\n}\n\nexport default Register;\n{\n  /*<Form onSubmit={this.handleSubmit}>\n  <h4>Register New User</h4>\n        <Label>Name</Label>\n        <Form.Input type=\"text\" name=\"name\" onChange={this.handleChange} required />\n        <Label>Department</Label>\n        <Form.Input type=\"text\" name=\"department\" onChange={this.handleChange} required />\n        <Label>Email</Label>\n        <Form.Input type=\"email\" name=\"email\" onChange={this.handleChange} required />\n        <Label>Password</Label>\n        <Form.Input type=\"password\" name=\"password\" onChange={this.handleChange} required />\n        <Button type=\"submit\" color=\"green\">Register</Button>\n        { this.state.errorMsg ? <Message negative>{this.state.errorMsg}</Message> : null }\n    </Form>*/\n}","map":{"version":3,"sources":["/Users/user/sei-cranberry-gobblers/Project-3/Project-3-react-issue-client/react-issue-app/src/Register/index.js"],"names":["React","Component","Form","Label","Button","Message","Grid","Header","Icon","Segment","Register","constructor","handleChange","e","setState","currentTarget","name","value","handleSubmit","preventDefault","console","log","registrationUrl","process","env","REACT_APP_API_URL","registerResponse","fetch","method","body","JSON","stringify","state","credentials","headers","parsedResponse","json","status","code","props","history","push","errorMsg","message","department","email","password","render","height","maxWidth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Label, Button, Message, Grid, Header, Icon, Segment} from 'semantic-ui-react';\n\nclass Register extends Component {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\tname: '',\n\t\t\tdepartment: '',\n\t\t\temail: '',\n\t\t\tpassword: ''\n\t\t}\n\t}\n\n\n\t\n\t// Handling of form value change\n\thandleChange = (e) => {\n\t\tthis.setState({\n\t\t\t[e.currentTarget.name]: e.currentTarget.value\n\t\t})\n\t}\n\n\t// Submission of register in form\n\thandleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\tconsole.log('hello');\n\t\tconst registrationUrl = `${process.env.REACT_APP_API_URL}/api/v1/users/register`; // localhost:8000/api/v1/users/register\n    \t// this is users.  this matches flask app.py: app.register_blueprint(user, url_prefix='/api/v1/users')\n    \tconst registerResponse = await fetch(registrationUrl, {\n    \t\tmethod: 'POST',\n    \t\tbody: JSON.stringify(this.state),\n    \t\tcredentials: 'include', // this sends our session cookie with our request\n    \t\theaders: {\n    \t\t\t'Content-Type': 'application/json'\n    \t\t}\n    \t});\n\n    \tconst parsedResponse = await registerResponse.json();\n  \n\t    if (parsedResponse.status.code === 201) {\n\t      console.log('Sign up successful');\n\t      this.props.history.push('/issues'); // Change url to /issues programmatically with react-router\n\t    } else {\n\t      // Else display error message to the user\n\t      this.setState({\n\t        errorMsg: parsedResponse.status.message\n\t      });\n\t    }\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\n    <Grid.Column style={{ maxWidth: 450 }}>\n      <Header as='h2' color='teal' textAlign='center'>\n        <Icon name='baseball ball' /> Register for Issues\n      </Header>\n      <Form size='large' onSubmit={this.handleSubmit}>\n        <Segment stacked>\n          <Form.Input \n          \ticon='signup'\n          \ticonPosition='left'\n          \tplaceholder='First name' \n          \tonChange={this.handleChange} \n          \trequired/>\n          <Form.Input \n            iconPosition='left'\n            icon='users'\n            placeholder='Department'\n            onChange={this.handleChange} \n            required />\n          <Form.Input \n          \tfluid icon='user' \n          \ticonPosition='left' \n          \tplaceholder='E-mail address' \n          \tonChange={this.handleChange} \n          \trequired/>\n          <Form.Input\n            fluid icon='lock'\n            iconPosition='left'\n            placeholder='Password'\n            type='password'\n            onChange={this.handleChange} \n            required/>\n\n          <Button color='teal' fluid size='large' type='submit'>\n            <List>\n\t\t\t\t<List.Item><Link to = '/issues'>Register</Link></List.Item>\n\t\t\t</List>\n          </Button>\n        </Segment>\n         { this.state.errorMsg ? <Message negative>{this.state.errorMsg}</Message> : null }\n      </Form>\n      {/*<Message>\n        New to us? <a href='#'>Sign Up</a>\n      </Message>*/}\n    </Grid.Column>\n  </Grid>\n\t\t)\n\t}\n}\n\nexport default Register;\n\n\t\t\t{/*<Form onSubmit={this.handleSubmit}>\n\t\t\t\t<h4>Register New User</h4>\n\t\t        <Label>Name</Label>\n\t\t        <Form.Input type=\"text\" name=\"name\" onChange={this.handleChange} required />\n\t\t        <Label>Department</Label>\n\t\t        <Form.Input type=\"text\" name=\"department\" onChange={this.handleChange} required />\n\t\t        <Label>Email</Label>\n\t\t        <Form.Input type=\"email\" name=\"email\" onChange={this.handleChange} required />\n\t\t        <Label>Password</Label>\n\t\t        <Form.Input type=\"password\" name=\"password\" onChange={this.handleChange} required />\n\t\t        <Button type=\"submit\" color=\"green\">Register</Button>\n\t\t        { this.state.errorMsg ? <Message negative>{this.state.errorMsg}</Message> : null }\n\t\t    </Form>*/}\n"]},"metadata":{},"sourceType":"module"}